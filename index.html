<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oolido - Rate Everything</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; transition: all 0.3s; }
        body.light { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #1f2937; }
        body.dark { background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); color: #f1f5f9; }
        .glass { background: rgba(255,255,255,0.9); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.5); box-shadow: 0 8px 32px rgba(0,0,0,0.1); }
        body.dark .glass { background: rgba(30,41,59,0.9); border: 1px solid rgba(255,255,255,0.1); }
        .grad-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .grad-text { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .card:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(102,126,234,0.3); }
        .btn { transition: all 0.3s; position: relative; overflow: hidden; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); backdrop-filter: blur(10px); z-index: 1000; align-items: center; justify-content: center; }
        .modal.show { display: flex; }
        .dropdown { position: relative; display: inline-block; }
        .dropdown-content { display: none; position: absolute; right: 0; top: 100%; margin-top: 0.5rem; min-width: 140px; z-index: 100; }
        .dropdown:hover .dropdown-content { display: block; }
        .tab { padding: 0.75rem 1.5rem; border-radius: 0.75rem; cursor: pointer; transition: all 0.3s; font-weight: 600; }
        .tab:hover { background: rgba(102,126,234,0.1); }
        .tab.active { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 4px; }
    </style>
</head>
<body class="light">
    <!-- Login -->
    <div id="loginScreen" class="min-h-screen grad-primary flex items-center justify-center p-4">
        <div class="glass rounded-3xl p-12 max-w-lg w-full shadow-2xl">
            <div class="text-center mb-12">
                <h1 class="text-8xl font-black text-white mb-4">Oolido</h1>
                <p class="text-white text-2xl" id="loginSubtitle">Rate Everything, Everywhere</p>
            </div>
            <div class="space-y-4">
                <button onclick="showAuthModal('login')" class="btn w-full bg-white text-purple-600 py-4 rounded-2xl font-bold" id="loginBtn">Login</button>
                <button onclick="showAuthModal('signup')" class="btn w-full bg-white/20 text-white py-4 rounded-2xl font-bold border-2 border-white/40" id="signupBtn">Sign Up</button>
                <button onclick="handleGoogleLogin()" class="btn w-full bg-white text-gray-800 py-4 rounded-2xl font-bold flex items-center justify-center gap-3">
                    <svg class="w-6 h-6" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                    <span id="googleBtn">Continue with Google</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="modal">
        <div class="glass rounded-3xl p-10 max-w-md w-full mx-4 shadow-2xl">
            <div class="flex justify-between items-center mb-8">
                <h3 id="authTitle" class="text-3xl font-black grad-text">Login</h3>
                <button onclick="closeAuthModal()" class="text-4xl hover:text-purple-600">&times;</button>
            </div>
            <div id="signupFields" class="hidden mb-4">
                <input type="text" id="displayName" placeholder="Display Name" class="w-full px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none">
            </div>
            <input type="email" id="email" placeholder="Email or Username" class="w-full px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none mb-4">
            <input type="password" id="password" placeholder="Password" class="w-full px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none mb-6">
            <button onclick="handleAuth()" class="btn w-full grad-primary text-white py-4 rounded-xl font-bold mb-4"><span id="authButton">Login</span></button>
            <div class="text-center">
                <button onclick="toggleAuthMode()" class="text-purple-600 hover:text-purple-700 font-semibold"><span id="authToggle">Don't have an account? Sign up</span></button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden">
        <!-- Header -->
        <header class="glass sticky top-0 z-50">
            <div class="container mx-auto px-6 py-4">
                <div class="flex items-center justify-between flex-wrap gap-4">
                    <h1 class="text-4xl font-black grad-text cursor-pointer" onclick="showPage('home')">Oolido</h1>
                    <div class="flex items-center gap-3 flex-wrap">
                        <div class="dropdown">
                            <button class="btn glass px-4 py-2 rounded-xl font-semibold flex items-center gap-2">
                                <span id="currentLang">🇬🇧 EN</span>
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                            </button>
                            <div class="dropdown-content glass rounded-xl p-2 shadow-2xl">
                                <button onclick="changeLanguage('en')" class="w-full text-left px-4 py-2 rounded-lg hover:bg-purple-100 font-semibold">🇬🇧 EN</button>
                                <button onclick="changeLanguage('tr')" class="w-full text-left px-4 py-2 rounded-lg hover:bg-purple-100 font-semibold">🇹🇷 TR</button>
                                <button onclick="changeLanguage('de')" class="w-full text-left px-4 py-2 rounded-lg hover:bg-purple-100 font-semibold">🇩🇪 DE</button>
                                <button onclick="changeLanguage('fr')" class="w-full text-left px-4 py-2 rounded-lg hover:bg-purple-100 font-semibold">🇫🇷 FR</button>
                                <button onclick="changeLanguage('es')" class="w-full text-left px-4 py-2 rounded-lg hover:bg-purple-100 font-semibold">🇪🇸 ES</button>
                            </div>
                        </div>
                        <button onclick="toggleDarkMode()" class="btn glass p-3 rounded-xl">
                            <svg id="darkIcon" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/></svg>
                            <svg id="lightIcon" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"/></svg>
                        </button>
                        <nav class="flex gap-2">
                            <button onclick="showPage('home')" class="tab" id="homeNav">Home</button>
                            <button onclick="showPage('versus')" class="tab" id="versusNav">VS</button>
                            <button onclick="showPage('favorites')" class="tab" id="favoritesNav">⭐</button>
                            <button onclick="showPage('profile')" class="tab" id="profileNav">Profile</button>
                            <button id="adminBtn" class="hidden tab" style="background: linear-gradient(135deg, #f093fb, #f5576c); color: white;" onclick="showPage('admin')">Admin</button>
                        </nav>
                        <button onclick="handleLogout()" class="btn text-red-500 hover:bg-red-50 px-4 py-2 rounded-xl font-semibold" id="logoutNav">Logout</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main -->
        <main class="container mx-auto px-6 py-8">
            <!-- Home -->
            <div id="homePage" class="fade-in">
                <div class="glass rounded-3xl p-8 mb-8 shadow-xl">
                    <div class="flex gap-4 mb-4 flex-wrap">
                        <div class="relative flex-1 min-w-[200px]">
                            <svg class="absolute left-5 top-1/2 transform -translate-y-1/2 w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                            <input type="text" id="searchInput" placeholder="Search..." class="w-full pl-14 pr-6 py-4 rounded-2xl border-2 focus:border-purple-500 outline-none text-lg" oninput="filterItems()">
                        </div>
                        <button onclick="randomItem()" class="btn grad-primary text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-3">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                            <span id="randomBtn">Random</span>
                        </button>
                    </div>
                    <div class="grid grid-cols-3 gap-4">
                        <select id="filterCategory" onchange="filterItems()" class="px-4 py-3 rounded-xl border-2 focus:border-purple-500 outline-none"></select>
                        <select id="filterRating" onchange="filterItems()" class="px-4 py-3 rounded-xl border-2 focus:border-purple-500 outline-none">
                            <option value="0">All Ratings</option>
                            <option value="1">1+ ⭐</option>
                            <option value="2">2+ ⭐</option>
                            <option value="3">3+ ⭐</option>
                            <option value="4">4+ ⭐</option>
                        </select>
                        <select id="sortBy" onchange="filterItems()" class="px-4 py-3 rounded-xl border-2 focus:border-purple-500 outline-none">
                            <option value="trending">🔥 Trending</option>
                            <option value="rating">⭐ Top Rated</option>
                            <option value="reviews">💬 Most Reviews</option>
                            <option value="newest">🆕 Newest</option>
                        </select>
                    </div>
                </div>
                <div id="itemsGrid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6"></div>
            </div>

            <!-- Detail -->
            <div id="detailPage" class="hidden fade-in">
                <button onclick="backToHome()" class="btn glass px-6 py-3 rounded-2xl font-semibold mb-6 flex items-center gap-2" id="backBtn">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                    Back
                </button>
                <div id="itemDetail"></div>
            </div>

            <!-- Versus -->
            <div id="versusPage" class="hidden fade-in">
                <h2 class="text-5xl font-black grad-text mb-8 text-center">⚔️ Versus Battle</h2>
                <div class="grid grid-cols-2 gap-8 mb-8">
                    <div class="glass rounded-2xl p-8">
                        <label class="block text-lg font-bold mb-4">Fighter 1</label>
                        <select id="versus1" onchange="updateVersus()" class="w-full px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none"></select>
                    </div>
                    <div class="glass rounded-2xl p-8">
                        <label class="block text-lg font-bold mb-4">Fighter 2</label>
                        <select id="versus2" onchange="updateVersus()" class="w-full px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none"></select>
                    </div>
                </div>
                <div id="versusComparison"></div>
            </div>

            <!-- Favorites -->
            <div id="favoritesPage" class="hidden fade-in">
                <h2 class="text-5xl font-black grad-text mb-8 text-center">⭐ My Favorites</h2>
                <div id="favoritesList" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6"></div>
            </div>

            <!-- Profile -->
            <div id="profilePage" class="hidden fade-in">
                <div id="profileContent"></div>
            </div>

            <!-- Admin -->
            <div id="adminPage" class="hidden fade-in">
                <div id="adminContent"></div>
            </div>
        </main>
    </div>

    <script>
        let currentUser = null, isAdmin = false, authMode = 'login', selectedItem = null, currentPage = 'home', newRating = 0, currentLang = 'en', userVotes = {}, favorites = [], darkMode = false;

        const translations = {
            en: { loginSubtitle: 'Rate Everything, Everywhere', login: 'Login', signup: 'Sign Up', google: 'Continue with Google', home: 'Home', profile: 'Profile', logout: 'Logout', versus: 'VS', favorites: 'Favorites', random: 'Random', back: 'Back', reviews: 'reviews', views: 'views', submitReview: 'Submit Review', yourRating: 'Your Rating', yourComment: 'Your Comment', submit: 'Submit', alreadyVoted: 'Already voted!', noReviews: 'No reviews yet', youVoted: 'Voted', authToggleSignup: 'Don\'t have an account? Sign up', authToggleLogin: 'Already have an account? Login', addedToFavorites: 'Added to favorites!', removedFromFavorites: 'Removed', reviewSubmitted: 'Review submitted!', all: 'All', winner: 'Winner', overallScore: 'Overall Score', noFavorites: 'No favorites yet', totalReviews: 'Total Reviews', avgRating: 'Avg Rating' },
            tr: { loginSubtitle: 'Her Şeyi Değerlendir', login: 'Giriş', signup: 'Kayıt Ol', google: 'Google ile Giriş', home: 'Ana Sayfa', profile: 'Profil', logout: 'Çıkış', versus: 'Karşılaştır', favorites: 'Favoriler', random: 'Rastgele', back: 'Geri', reviews: 'değerlendirme', views: 'görüntüleme', submitReview: 'Değerlendir', yourRating: 'Puanınız', yourComment: 'Yorumunuz', submit: 'Gönder', alreadyVoted: 'Zaten oyladınız!', noReviews: 'Henüz yorum yok', youVoted: 'Oylandı', authToggleSignup: 'Hesabınız yok mu? Kayıt olun', authToggleLogin: 'Hesabınız var mı? Giriş yapın', addedToFavorites: 'Favorilere eklendi!', removedFromFavorites: 'Çıkarıldı', reviewSubmitted: 'Gönderildi!', all: 'Tümü', winner: 'Kazanan', overallScore: 'Genel Skor', noFavorites: 'Henüz favori yok', totalReviews: 'Toplam', avgRating: 'Ortalama' },
            de: { loginSubtitle: 'Bewerte Alles', login: 'Anmelden', signup: 'Registrieren', google: 'Mit Google', home: 'Start', profile: 'Profil', logout: 'Abmelden', versus: 'Vergleich', favorites: 'Favoriten', random: 'Zufall', back: 'Zurück', reviews: 'Bewertungen', views: 'Ansichten', submitReview: 'Bewerten', yourRating: 'Bewertung', yourComment: 'Kommentar', submit: 'Senden', alreadyVoted: 'Bereits bewertet!', noReviews: 'Keine', youVoted: 'Bewertet', authToggleSignup: 'Registrieren', authToggleLogin: 'Anmelden', addedToFavorites: 'Favorit!', removedFromFavorites: 'Entfernt', reviewSubmitted: 'Gesendet!', all: 'Alle', winner: 'Gewinner', overallScore: 'Gesamt', noFavorites: 'Keine', totalReviews: 'Gesamt', avgRating: 'Durchschn.' },
            fr: { loginSubtitle: 'Évaluez Tout', login: 'Connexion', signup: 'S\'inscrire', google: 'Google', home: 'Accueil', profile: 'Profil', logout: 'Déconnexion', versus: 'Versus', favorites: 'Favoris', random: 'Aléatoire', back: 'Retour', reviews: 'avis', views: 'vues', submitReview: 'Évaluer', yourRating: 'Note', yourComment: 'Commentaire', submit: 'Envoyer', alreadyVoted: 'Déjà voté!', noReviews: 'Pas d\'avis', youVoted: 'Voté', authToggleSignup: 'S\'inscrire', authToggleLogin: 'Connexion', addedToFavorites: 'Favori!', removedFromFavorities: 'Retiré', reviewSubmitted: 'Envoyé!', all: 'Tous', winner: 'Gagnant', overallScore: 'Score', noFavorites: 'Pas de favoris', totalReviews: 'Total', avgRating: 'Moy' },
            es: { loginSubtitle: 'Califica Todo', login: 'Iniciar', signup: 'Registro', google: 'Google', home: 'Inicio', profile: 'Perfil', logout: 'Salir', versus: 'Versus', favorites: 'Favoritos', random: 'Aleatorio', back: 'Atrás', reviews: 'reseñas', views: 'vistas', submitReview: 'Evaluar', yourRating: 'Calificación', yourComment: 'Comentario', submit: 'Enviar', alreadyVoted: '¡Ya votaste!', noReviews: 'Sin reseñas', youVoted: 'Votado', authToggleSignup: 'Registrarse', authToggleLogin: 'Iniciar', addedToFavorites: '¡Favorito!', removedFromFavorites: 'Quitado', reviewSubmitted: '¡Enviado!', all: 'Todos', winner: 'Ganador', overallScore: 'Puntuación', noFavorites: 'Sin favoritos', totalReviews: 'Total', avgRating: 'Promedio' }
        };

        function t(key) { return translations[currentLang][key] || translations['en'][key] || key; }

        function changeLanguage(lang) {
            currentLang = lang;
            const flags = { en: '🇬🇧 EN', tr: '🇹🇷 TR', de: '🇩🇪 DE', fr: '🇫🇷 FR', es: '🇪🇸 ES' };
            document.getElementById('currentLang').textContent = flags[lang];
            updateUILanguage();
        }

        function updateUILanguage() {
            const els = { loginSubtitle:'loginSubtitle', loginBtn:'login', signupBtn:'signup', googleBtn:'google', homeNav:'home', profileNav:'profile', logoutNav:'logout', versusNav:'versus', favoritesNav:'favorites', randomBtn:'random', backBtn:'back', authTitle:authMode==='login'?'login':'signup', authButton:authMode==='login'?'login':'signup', authToggle:authMode==='login'?'authToggleSignup':'authToggleLogin' };
            for(let id in els) { const el = document.getElementById(id); if(el) el.textContent = t(els[id]); }
            const search = document.getElementById('searchInput'); if(search) search.placeholder = t('search') || 'Search...';
            if(currentPage==='home') renderItems(); if(currentPage==='versus') { renderVersusSelects(); updateVersus(); } if(currentPage==='favorites') renderFavorites();
            populateFilterCategory();
        }

        const categories = ['Celebrities','Brands','Companies','Sports Clubs','YouTube Channels','Movies/TV Shows','Music','Technology'];
        const items = [
            {id:'1',name:'Taylor Swift',category:'Celebrities',description:'Grammy-winning singer-songwriter',imageUrl:'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=400',tags:['music','pop'],averageRating:4.9,reviewCount:892,viewCount:5240,createdAt:'2024-01-10'},
            {id:'2',name:'Cristiano Ronaldo',category:'Celebrities',description:'Football legend',imageUrl:'https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?w=400',tags:['football','sports'],averageRating:4.8,reviewCount:1024,viewCount:6780,createdAt:'2024-01-05'},
            {id:'3',name:'Beyoncé',category:'Celebrities',description:'Iconic performer',imageUrl:'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400',tags:['music','performer'],averageRating:4.9,reviewCount:756,viewCount:4230,createdAt:'2024-01-08'},
            {id:'4',name:'Leonardo DiCaprio',category:'Celebrities',description:'Oscar-winning actor',imageUrl:'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400',tags:['actor','hollywood'],averageRating:4.7,reviewCount:567,viewCount:3450,createdAt:'2024-01-14'},
            {id:'5',name:'Rihanna',category:'Celebrities',description:'Artist and entrepreneur',imageUrl:'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400',tags:['music','business'],averageRating:4.6,reviewCount:678,viewCount:4120,createdAt:'2024-01-11'},
            {id:'6',name:'Dwayne Johnson',category:'Celebrities',description:'Actor and former wrestler',imageUrl:'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400',tags:['actor','fitness'],averageRating:4.7,reviewCount:634,viewCount:3890,createdAt:'2024-01-12'},
            {id:'7',name:'Emma Watson',category:'Celebrities',description:'Actress and activist',imageUrl:'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400',tags:['actress','activist'],averageRating:4.6,reviewCount:445,viewCount:2890,createdAt:'2024-01-18'},
            {id:'8',name:'Elon Musk',category:'Celebrities',description:'Tech entrepreneur',imageUrl:'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',tags:['tech','business'],averageRating:4.3,reviewCount:923,viewCount:5670,createdAt:'2024-01-09'},
            {id:'9',name:'Oprah Winfrey',category:'Celebrities',description:'Media mogul',imageUrl:'https://images.unsplash.com/photo-1580489944761-15a19d654956?w=400',tags:['media','inspiration'],averageRating:4.8,reviewCount:534,viewCount:3210,createdAt:'2024-01-16'},
            {id:'10',name:'Tarkan',category:'Celebrities',description:'Turkish pop icon',imageUrl:'https://images.unsplash.com/photo-1511367461989-f85a21fda167?w=400',tags:['music','turkish'],averageRating:4.8,reviewCount:245,viewCount:1520,createdAt:'2024-01-15'},
            {id:'11',name:'Apple',category:'Brands',description:'Technology leader',imageUrl:'https://images.unsplash.com/photo-1611532736597-de2d4265fba3?w=400',tags:['tech','innovation'],averageRating:4.7,reviewCount:1245,viewCount:7890,createdAt:'2024-01-07'},
            {id:'12',name:'Nike',category:'Brands',description:'Global sports brand',imageUrl:'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400',tags:['sports','fashion'],averageRating:4.6,reviewCount:890,viewCount:5430,createdAt:'2024-01-13'},
            {id:'13',name:'Coca-Cola',category:'Brands',description:'Iconic beverage',imageUrl:'https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400',tags:['beverage','classic'],averageRating:4.5,reviewCount:756,viewCount:4670,createdAt:'2024-01-17'},
            {id:'14',name:'Samsung',category:'Brands',description:'Electronics leader',imageUrl:'https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=400',tags:['tech','electronics'],averageRating:4.5,reviewCount:678,viewCount:4230,createdAt:'2024-01-19'},
            {id:'15',name:'Adidas',category:'Brands',description:'German sportswear',imageUrl:'https://images.unsplash.com/photo-1556906781-9a412961c28c?w=400',tags:['sports','fashion'],averageRating:4.6,reviewCount:534,viewCount:3890,createdAt:'2024-01-20'},
            {id:'16',name:'Louis Vuitton',category:'Brands',description:'Luxury fashion',imageUrl:'https://images.unsplash.com/photo-1591561954557-26941169b49e?w=400',tags:['luxury','fashion'],averageRating:4.7,reviewCount:445,viewCount:3210,createdAt:'2024-01-21'},
            {id:'17',name:'Mercedes-Benz',category:'Brands',description:'Luxury automobiles',imageUrl:'https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=400',tags:['automotive','luxury'],averageRating:4.8,reviewCount:567,viewCount:3890,createdAt:'2024-01-22'},
            {id:'18',name:'Starbucks',category:'Brands',description:'Global coffeehouse',imageUrl:'https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400',tags:['coffee','lifestyle'],averageRating:4.4,reviewCount:923,viewCount:5670,createdAt:'2024-01-23'},
            {id:'19',name:'Sony',category:'Brands',description:'Electronics giant',imageUrl:'https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=400',tags:['electronics','gaming'],averageRating:4.6,reviewCount:678,viewCount:4230,createdAt:'2024-01-24'},
            {id:'20',name:'BMW',category:'Brands',description:'Luxury automobiles',imageUrl:'https://images.unsplash.com/photo-1555215695-3004980ad54e?w=400',tags:['automotive','luxury'],averageRating:4.7,reviewCount:534,viewCount:3670,createdAt:'2024-01-25'},
            {id:'21',name:'Tesla',category:'Companies',description:'Electric vehicles',imageUrl:'https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=400',tags:['electric','innovation'],averageRating:4.6,reviewCount:1034,viewCount:6890,createdAt:'2024-01-06'},
            {id:'22',name:'Google',category:'Companies',description:'Tech giant',imageUrl:'https://images.unsplash.com/photo-1573804633927-bfcbcd909acd?w=400',tags:['tech','search'],averageRating:4.7,reviewCount:1456,viewCount:8900,createdAt:'2024-01-04'},
            {id:'23',name:'Amazon',category:'Companies',description:'E-commerce leader',imageUrl:'https://images.unsplash.com/photo-1523474253046-8cd2748b5fd2?w=400',tags:['ecommerce','tech'],averageRating:4.5,reviewCount:1234,viewCount:7560,createdAt:'2024-01-26'},
            {id:'24',name:'Microsoft',category:'Companies',description:'Software giant',imageUrl:'https://images.unsplash.com/photo-1633114128174-2f8aa49759b0?w=400',tags:['software','cloud'],averageRating:4.6,reviewCount:987,viewCount:6230,createdAt:'2024-01-27'},
            {id:'25',name:'Meta',category:'Companies',description:'Social media',imageUrl:'https://images.unsplash.com/photo-1611162616475-46b635cb6868?w=400',tags:['social','tech'],averageRating:4.2,reviewCount:1123,viewCount:7890,createdAt:'2024-01-28'},
            {id:'26',name:'Netflix',category:'Companies',description:'Streaming service',imageUrl:'https://images.unsplash.com/photo-1574375927938-d5a98e8ffe85?w=400',tags:['streaming','media'],averageRating:4.5,reviewCount:1567,viewCount:9230,createdAt:'2024-01-29'},
            {id:'27',name:'SpaceX',category:'Companies',description:'Space exploration',imageUrl:'https://images.unsplash.com/photo-1516849841032-87cbac4d88f7?w=400',tags:['space','innovation'],averageRating:4.8,reviewCount:756,viewCount:5670,createdAt:'2024-01-30'},
            {id:'28',name:'Airbnb',category:'Companies',description:'Travel platform',imageUrl:'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400',tags:['travel','hospitality'],averageRating:4.4,reviewCount:890,viewCount:5430,createdAt:'2024-02-01'},
            {id:'29',name:'Spotify',category:'Companies',description:'Music streaming',imageUrl:'https://images.unsplash.com/photo-1614680376593-902f74cf0d41?w=400',tags:['music','streaming'],averageRating:4.6,reviewCount:1234,viewCount:7890,createdAt:'2024-02-02'},
            {id:'30',name:'Disney',category:'Companies',description:'Entertainment giant',imageUrl:'https://images.unsplash.com/photo-1601645191163-3fc0d5d64e35?w=400',tags:['entertainment','media'],averageRating:4.7,reviewCount:1345,viewCount:8230,createdAt:'2024-02-03'},
            {id:'31',name:'Real Madrid',category:'Sports Clubs',description:'Spanish football club',imageUrl:'https://images.unsplash.com/photo-1522778119026-d647f0596c20?w=400',tags:['football','spain'],averageRating:4.9,reviewCount:3456,viewCount:15670,createdAt:'2024-02-04'},
            {id:'32',name:'FC Barcelona',category:'Sports Clubs',description:'Catalan football club',imageUrl:'https://images.unsplash.com/photo-1579952363873-27f3bade9f55?w=400',tags:['football','spain'],averageRating:4.8,reviewCount:3234,viewCount:14560,createdAt:'2024-02-05'},
            {id:'33',name:'Manchester United',category:'Sports Clubs',description:'English football club',imageUrl:'https://images.unsplash.com/photo-1560272564-c83b66b1ad12?w=400',tags:['football','england'],averageRating:4.7,reviewCount:2890,viewCount:13450,createdAt:'2024-02-06'},
            {id:'34',name:'Liverpool FC',category:'Sports Clubs',description:'English champions',imageUrl:'https://images.unsplash.com/photo-1508098682722-e99c43a406b2?w=400',tags:['football','england'],averageRating:4.8,reviewCount:2567,viewCount:12890,createdAt:'2024-02-07'},
            {id:'35',name:'LA Lakers',category:'Sports Clubs',description:'NBA franchise',imageUrl:'https://images.unsplash.com/photo-1546519638-68e109498ffc?w=400',tags:['basketball','nba'],averageRating:4.7,reviewCount:1890,viewCount:9870,createdAt:'2024-02-08'},
            {id:'36',name:'NY Yankees',category:'Sports Clubs',description:'MLB team',imageUrl:'https://images.unsplash.com/photo-1566577739112-5180d4bf9390?w=400',tags:['baseball','mlb'],averageRating:4.6,reviewCount:1567,viewCount:8760,createdAt:'2024-02-09'},
            {id:'37',name:'Galatasaray',category:'Sports Clubs',description:'Turkish football club',imageUrl:'https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=400',tags:['football','turkey'],averageRating:4.9,reviewCount:2345,viewCount:12340,createdAt:'2024-01-03'},
            {id:'38',name:'Beşiktaş',category:'Sports Clubs',description:'Turkish club',imageUrl:'https://images.unsplash.com/photo-1431324155629-1a6deb1dec8d?w=400',tags:['football','turkey'],averageRating:4.7,reviewCount:1890,viewCount:10230,createdAt:'2024-02-10'},
            {id:'39',name:'Bayern Munich',category:'Sports Clubs',description:'German powerhouse',imageUrl:'https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=400',tags:['football','germany'],averageRating:4.8,reviewCount:2345,viewCount:11670,createdAt:'2024-02-11'},
            {id:'40',name:'Chicago Bulls',category:'Sports Clubs',description:'NBA dynasty',imageUrl:'https://images.unsplash.com/photo-1504450758481-7338eba7524a?w=400',tags:['basketball','nba'],averageRating:4.7,reviewCount:1678,viewCount:9230,createdAt:'2024-02-12'},
            {id:'41',name:'MrBeast',category:'YouTube Channels',description:'Top YouTuber',imageUrl:'https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=400',tags:['youtube','content'],averageRating:4.8,reviewCount:3456,viewCount:18900,createdAt:'2024-01-02'},
            {id:'42',name:'PewDiePie',category:'YouTube Channels',description:'Gaming YouTuber',imageUrl:'https://images.unsplash.com/photo-1511367461989-f85a21fda167?w=400',tags:['youtube','gaming'],averageRating:4.7,reviewCount:4567,viewCount:21340,createdAt:'2024-02-13'},
            {id:'43',name:'Dude Perfect',category:'YouTube Channels',description:'Sports entertainment',imageUrl:'https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?w=400',tags:['sports','tricks'],averageRating:4.6,reviewCount:2345,viewCount:13450,createdAt:'2024-02-14'},
            {id:'44',name:'Markiplier',category:'YouTube Channels',description:'Gaming creator',imageUrl:'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400',tags:['gaming','comedy'],averageRating:4.7,reviewCount:2890,viewCount:15670,createdAt:'2024-02-15'},
            {id:'45',name:'Ninja',category:'YouTube Channels',description:'Pro gamer',imageUrl:'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400',tags:['gaming','esports'],averageRating:4.5,reviewCount:1567,viewCount:9870,createdAt:'2024-02-18'},
            {id:'46',name:'Linus Tech Tips',category:'YouTube Channels',description:'Tech reviews',imageUrl:'https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=400',tags:['tech','reviews'],averageRating:4.7,reviewCount:2234,viewCount:14560,createdAt:'2024-02-19'},
            {id:'47',name:'Tasty',category:'YouTube Channels',description:'Cooking videos',imageUrl:'https://images.unsplash.com/photo-1466637574441-749b8f19452f?w=400',tags:['cooking','food'],averageRating:4.6,reviewCount:1890,viewCount:12340,createdAt:'2024-02-20'},
            {id:'48',name:'Vsauce',category:'YouTube Channels',description:'Educational science',imageUrl:'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=400',tags:['education','science'],averageRating:4.8,reviewCount:2456,viewCount:15890,createdAt:'2024-02-21'},
            {id:'49',name:'Enes Batur',category:'YouTube Channels',description:'Turkish YouTuber',imageUrl:'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',tags:['youtube','turkish'],averageRating:4.5,reviewCount:1890,viewCount:11230,createdAt:'2024-02-16'},
            {id:'50',name:'Rhett & Link',category:'YouTube Channels',description:'Comedy duo',imageUrl:'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400',tags:['comedy','food'],averageRating:4.6,reviewCount:1678,viewCount:10890,createdAt:'2024-02-17'},
            {id:'51',name:'Breaking Bad',category:'Movies/TV Shows',description:'Crime drama series',imageUrl:'https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?w=400',tags:['tv','drama'],averageRating:4.9,reviewCount:5678,viewCount:25670,createdAt:'2024-02-22'},
            {id:'52',name:'The Godfather',category:'Movies/TV Shows',description:'Epic crime film',imageUrl:'https://images.unsplash.com/photo-1485846234645-a62644f84728?w=400',tags:['movie','crime'],averageRating:4.9,reviewCount:4567,viewCount:23450,createdAt:'2024-02-23'},
            {id:'53',name:'Game of Thrones',category:'Movies/TV Shows',description:'Fantasy series',imageUrl:'https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=400',tags:['tv','fantasy'],averageRating:4.6,reviewCount:6789,viewCount:28900,createdAt:'2024-02-24'},
            {id:'54',name:'Inception',category:'Movies/TV Shows',description:'Sci-fi thriller',imageUrl:'https://images.unsplash.com/photo-1440404653325-ab127d49abc1?w=400',tags:['movie','scifi'],averageRating:4.8,reviewCount:3456,viewCount:19870,createdAt:'2024-02-25'},
            {id:'55',name:'Stranger Things',category:'Movies/TV Shows',description:'Horror series',imageUrl:'https://images.unsplash.com/photo-1512070679279-8988d32161be?w=400',tags:['tv','horror'],averageRating:4.7,reviewCount:4567,viewCount:22340,createdAt:'2024-02-26'},
            {id:'56',name:'The Dark Knight',category:'Movies/TV Shows',description:'Superhero film',imageUrl:'https://images.unsplash.com/photo-1509347528160-9a9e33742cdb?w=400',tags:['movie','action'],averageRating:4.9,reviewCount:4890,viewCount:24560,createdAt:'2024-02-27'},
            {id:'57',name:'Friends',category:'Movies/TV Shows',description:'Comedy sitcom',imageUrl:'https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?w=400',tags:['tv','comedy'],averageRating:4.8,reviewCount:5678,viewCount:26780,createdAt:'2024-02-28'},
            {id:'58',name:'Interstellar',category:'Movies/TV Shows',description:'Space odyssey',imageUrl:'https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=400',tags:['movie','scifi'],averageRating:4.8,reviewCount:3890,viewCount:21230,createdAt:'2024-03-01'},
            {id:'59',name:'The Office',category:'Movies/TV Shows',description:'Workplace comedy',imageUrl:'https://images.unsplash.com/photo-1497032628192-86f99bcd76bc?w=400',tags:['tv','comedy'],averageRating:4.7,reviewCount:4567,viewCount:23890,createdAt:'2024-03-02'},
            {id:'60',name:'Pulp Fiction',category:'Movies/TV Shows',description:'Cult classic',imageUrl:'https://images.unsplash.com/photo-1594908900066-3f47337549d8?w=400',tags:['movie','crime'],averageRating:4.8,reviewCount:3678,viewCount:20450,createdAt:'2024-03-03'}
        ];
        const reviews = [], users = [];
        let nextItemId = 61, nextUserId = 1, nextReviewId = 1;

        function toggleDarkMode() {
            darkMode = !darkMode;
            document.body.classList.toggle('dark', darkMode);
            document.body.classList.toggle('light', !darkMode);
            document.getElementById('darkIcon').classList.toggle('hidden', !darkMode);
            document.getElementById('lightIcon').classList.toggle('hidden', darkMode);
        }

        function hasUserVoted(u, i) { return userVotes[u+'-'+i] === true; }
        function markUserVoted(u, i) { userVotes[u+'-'+i] = true; }
        function isFavorite(i) { return favorites.includes(i); }
        function toggleFavorite(i, e) {
            if(e) e.stopPropagation();
            if(isFavorite(i)) favorites = favorites.filter(id => id !== i); else favorites.push(i);
            if(currentPage === 'home') renderItems(); if(currentPage === 'favorites') renderFavorites();
        }

        function randomItem() {
            const idx = Math.floor(Math.random() * items.length);
            viewItem(items[idx].id);
        }

        function showAuthModal(mode) {
            authMode = mode;
            document.getElementById('authModal').classList.add('show');
            document.getElementById('authTitle').textContent = t(mode === 'login' ? 'login' : 'signup');
            document.getElementById('authButton').textContent = t(mode === 'login' ? 'login' : 'signup');
            document.getElementById('authToggle').textContent = t(mode === 'login' ? 'authToggleSignup' : 'authToggleLogin');
            document.getElementById('signupFields').classList.toggle('hidden', mode === 'login');
        }

        function closeAuthModal() { document.getElementById('authModal').classList.remove('show'); }
        function toggleAuthMode() { showAuthModal(authMode === 'login' ? 'signup' : 'login'); }

        function handleAuth() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            if(email === 'admin' && password === '321') {
                currentUser = {id: 'admin', email: 'admin@oolido.com', displayName: 'Admin', isAdmin: true};
                isAdmin = true;
                document.getElementById('adminBtn').classList.remove('hidden');
                closeAuthModal();
                showMainApp();
                showPage('admin');
                return;
            }
            if(authMode === 'login') {
                const user = users.find(u => u.email === email && u.password === password);
                if(user) { currentUser = user; closeAuthModal(); showMainApp(); } else alert('Invalid!');
            } else {
                const displayName = document.getElementById('displayName').value;
                if(!displayName || !email || !password) { alert('Fill all fields!'); return; }
                const newUser = {id: 'user-' + nextUserId++, email, password, displayName, createdAt: new Date().toISOString()};
                users.push(newUser);
                currentUser = newUser;
                closeAuthModal();
                showMainApp();
            }
        }

        function handleGoogleLogin() {
            const googleUser = {id: 'google-' + nextUserId++, email: 'user@gmail.com', displayName: 'Google User', createdAt: new Date().toISOString()};
            users.push(googleUser);
            currentUser = googleUser;
            showMainApp();
        }

        function handleLogout() {
            currentUser = null;
            isAdmin = false;
            document.getElementById('mainApp').classList.add('hidden');
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('adminBtn').classList.add('hidden');
        }

        function showMainApp() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            populateFilterCategory();
            renderItems();
        }

        function showPage(page) {
            currentPage = page;
            ['homePage','detailPage','versusPage','favoritesPage','profilePage','adminPage'].forEach(p => document.getElementById(p).classList.add('hidden'));
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            if(page === 'home') { document.getElementById('homePage').classList.remove('hidden'); document.getElementById('homeNav').classList.add('active'); renderItems(); }
            else if(page === 'versus') { document.getElementById('versusPage').classList.remove('hidden'); document.getElementById('versusNav').classList.add('active'); renderVersusSelects(); }
            else if(page === 'favorites') { document.getElementById('favoritesPage').classList.remove('hidden'); document.getElementById('favoritesNav').classList.add('active'); renderFavorites(); }
            else if(page === 'profile') { document.getElementById('profilePage').classList.remove('hidden'); document.getElementById('profileNav').classList.add('active'); renderProfile(); }
            else if(page === 'admin' && isAdmin) { document.getElementById('adminPage').classList.remove('hidden'); renderAdmin(); }
        }

        function backToHome() { selectedItem = null; showPage('home'); }

        function populateFilterCategory() {
            const select = document.getElementById('filterCategory');
            let html = '<option value="">' + t('all') + '</option>';
            categories.forEach(cat => html += '<option value="' + cat + '">' + cat + '</option>');
            select.innerHTML = html;
        }

        function filterItems() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const filterCat = document.getElementById('filterCategory').value;
            const filterRat = parseFloat(document.getElementById('filterRating').value);
            const sortBy = document.getElementById('sortBy').value;
            let filtered = items.filter(item => {
                const matchesSearch = item.name.toLowerCase().includes(searchTerm) || item.description.toLowerCase().includes(searchTerm) || item.tags.some(tag => tag.toLowerCase().includes(searchTerm));
                const matchesCategory = !filterCat || item.category === filterCat;
                const matchesRating = item.averageRating >= filterRat;
                return matchesSearch && matchesCategory && matchesRating;
            });
            if(sortBy === 'rating') filtered.sort((a, b) => b.averageRating - a.averageRating);
            else if(sortBy === 'reviews') filtered.sort((a, b) => b.reviewCount - a.reviewCount);
            else if(sortBy === 'newest') filtered.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
            else if(sortBy === 'trending') filtered.sort((a, b) => (b.reviewCount * 2 + b.viewCount) - (a.reviewCount * 2 + a.viewCount));
            renderItemsGrid(filtered);
        }

        function renderItems() { filterItems(); }

        function renderItemsGrid(itemsList) {
            const container = document.getElementById('itemsGrid');
            if(itemsList.length === 0) {
                container.innerHTML = '<div class="col-span-full text-center py-20 glass rounded-3xl"><p class="text-2xl font-semibold">No results found</p></div>';
                return;
            }
            let html = '';
            itemsList.forEach(item => {
                const voted = hasUserVoted(currentUser.id, item.id);
                const fav = isFavorite(item.id);
                const rating = item.averageRating > 0 ? item.averageRating.toFixed(1) : '—';
                html += '<div class="card glass rounded-2xl overflow-hidden shadow-lg cursor-pointer" onclick="viewItem(\'' + item.id + '\')">';
                html += '<div class="relative h-48"><img src="' + item.imageUrl + '" class="w-full h-full object-cover">';
                html += '<div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent"></div>';
                if(voted) html += '<div class="absolute top-3 left-3 bg-orange-500 text-white px-3 py-1.5 rounded-full text-xs font-bold">✓ ' + t('youVoted') + '</div>';
                html += '<button onclick="toggleFavorite(\'' + item.id + '\', event)" class="absolute top-3 right-3 text-3xl hover:scale-125 transition-transform">' + (fav ? '⭐' : '☆') + '</button>';
                html += '<div class="absolute bottom-3 left-3 right-3"><h3 class="text-white font-bold text-lg mb-2 truncate">' + item.name + '</h3>';
                html += '<div class="flex items-center gap-3"><div class="flex items-center gap-1">' + renderStars(Math.round(item.averageRating), 'small', true) + '</div>';
                html += '<span class="text-white font-black text-xl">' + rating + '</span></div></div></div>';
                html += '<div class="p-4"><p class="text-xs font-semibold opacity-60 mb-2">' + item.category + '</p>';
                html += '<div class="flex items-center justify-between text-xs font-semibold"><span>' + item.reviewCount + ' ' + t('reviews') + '</span><span>' + item.viewCount + ' ' + t('views') + '</span></div></div></div>';
            });
            container.innerHTML = html;
        }

        function renderStars(rating, size, readonly) {
            const sizeClass = size === 'small' ? 'w-3.5 h-3.5' : size === 'large' ? 'w-10 h-10' : 'w-6 h-6';
            let html = '<div class="flex gap-1">';
            for(let i = 1; i <= 5; i++) {
                const filled = i <= rating;
                html += '<svg class="' + sizeClass + '" fill="' + (filled ? '#fbbf24' : 'none') + '" stroke="' + (filled ? '#fbbf24' : '#9ca3af') + '" stroke-width="2" viewBox="0 0 24 24" ' + (readonly ? '' : 'onclick="setRating(' + i + '); event.stopPropagation();"') + '><path stroke-linecap="round" stroke-linejoin="round" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/></svg>';
            }
            html += '</div>';
            return html;
        }

        function setRating(rating) {
            newRating = rating;
            const container = document.getElementById('newRatingStars');
            if(container) container.innerHTML = renderStars(rating, 'large', false);
        }

        function viewItem(itemId) {
            const item = items.find(i => i.id === itemId);
            if(!item) return;
            item.viewCount++;
            selectedItem = item;
            document.getElementById('homePage').classList.add('hidden');
            document.getElementById('detailPage').classList.remove('hidden');
            const itemReviews = reviews.filter(r => r.itemId === itemId);
            const voted = hasUserVoted(currentUser.id, itemId);
            const fav = isFavorite(itemId);
            const rating = item.averageRating > 0 ? item.averageRating.toFixed(1) : '0.0';
            let html = '<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">';
            html += '<div class="lg:col-span-1"><div class="glass rounded-2xl overflow-hidden shadow-2xl sticky top-24">';
            html += '<div class="relative h-96"><img src="' + item.imageUrl + '" class="w-full h-full object-cover">';
            html += '<div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"></div>';
            html += '<button onclick="randomItem()" class="btn absolute top-4 right-4 grad-primary text-white px-4 py-3 rounded-xl font-bold flex items-center gap-2">';
            html += '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>' + t('random') + '</button>';
            html += '<div class="absolute bottom-6 left-6 right-6"><h1 class="text-white text-4xl font-black mb-3">' + item.name + '</h1>';
            html += '<div class="flex items-center gap-3">' + renderStars(Math.round(item.averageRating), 'normal', true) + '<span class="text-white font-black text-2xl">' + rating + '</span></div></div></div>';
            html += '<div class="p-8"><div class="flex items-center justify-between mb-6">';
            html += '<div class="w-24 h-24 grad-primary rounded-full flex items-center justify-center text-white text-3xl font-black">' + rating + '</div>';
            html += '<button onclick="toggleFavorite(\'' + item.id + '\', event)" class="btn grad-primary text-white px-6 py-3 rounded-xl font-bold">' + (fav ? '⭐ Saved' : '☆ Save') + '</button></div>';
            html += '<div class="space-y-4">';
            html += '<div class="flex items-center justify-between py-3 border-b"><span class="font-bold">Category</span><span class="px-4 py-2 grad-primary text-white rounded-full text-sm font-bold">' + item.category + '</span></div>';
            html += '<div class="flex items-center justify-between py-3 border-b"><span class="font-bold">' + t('totalReviews') + '</span><span class="font-black text-xl grad-text">' + item.reviewCount + '</span></div>';
            html += '<div class="flex items-center justify-between py-3 border-b"><span class="font-bold">' + t('views') + '</span><span class="font-black text-xl grad-text">' + item.viewCount + '</span></div>';
            html += '</div><div class="mt-6"><p class="text-sm font-bold mb-3">Tags</p><div class="flex flex-wrap gap-2">';
            item.tags.forEach(tag => html += '<span class="px-3 py-1 glass rounded-full text-sm font-bold">#' + tag + '</span>');
            html += '</div></div></div></div></div>';
            html += '<div class="lg:col-span-2 space-y-8">';
            html += '<div class="glass rounded-2xl p-8 shadow-xl"><h2 class="text-3xl font-black grad-text mb-4">Description</h2><p class="text-lg leading-relaxed">' + item.description + '</p></div>';
            if(!voted) {
                html += '<div class="glass rounded-2xl p-8 shadow-xl"><h2 class="text-3xl font-black grad-text mb-8">' + t('submitReview') + '</h2>';
                html += '<div class="space-y-6"><div><label class="block font-bold text-lg mb-4">' + t('yourRating') + '</label><div id="newRatingStars">' + renderStars(0, 'large', false) + '</div></div>';
                html += '<div><label class="block font-bold text-lg mb-4">' + t('yourComment') + '</label><textarea id="newComment" placeholder="' + t('yourComment') + '..." rows="5" class="w-full px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none text-lg"></textarea></div>';
                html += '<button onclick="submitReview(\'' + itemId + '\')" class="btn grad-primary text-white px-10 py-4 rounded-xl font-bold text-lg">' + t('submit') + '</button></div></div>';
            } else {
                html += '<div class="glass rounded-2xl p-8 shadow-xl" style="background: linear-gradient(135deg, #f093fb, #f5576c);"><div class="flex items-center gap-6"><div class="w-20 h-20 bg-white rounded-full flex items-center justify-center text-purple-600 text-3xl font-black">✓</div>';
                html += '<div><h3 class="text-3xl font-black text-white mb-2">' + t('alreadyVoted') + '</h3><p class="text-white text-lg">You can only vote once</p></div></div></div>';
            }
            html += '<div class="glass rounded-2xl p-8 shadow-xl"><h2 class="text-3xl font-black grad-text mb-8">' + t('reviews') + ' (' + itemReviews.length + ')</h2>';
            if(itemReviews.length > 0) {
                html += '<div class="space-y-5">';
                itemReviews.forEach(review => {
                    html += '<div class="glass rounded-xl p-6"><div class="flex items-center justify-between mb-4"><span class="font-black text-xl">' + review.userName + '</span><div class="flex items-center gap-3">' + renderStars(review.rating, 'small', true) + '<span class="font-black text-lg">' + review.rating + '.0</span></div></div>';
                    if(review.comment) html += '<p class="text-base leading-relaxed mb-3">' + review.comment + '</p>';
                    html += '<p class="text-xs font-semibold opacity-60">' + new Date(review.createdAt).toLocaleString() + '</p></div>';
                });
                html += '</div>';
            } else {
                html += '<p class="text-center opacity-60 py-12 text-xl">' + t('noReviews') + '</p>';
            }
            html += '</div></div></div>';
            document.getElementById('itemDetail').innerHTML = html;
        }

        function submitReview(itemId) {
            if(hasUserVoted(currentUser.id, itemId)) { alert(t('alreadyVoted')); return; }
            if(newRating === 0) { alert('Please select a rating!'); return; }
            const comment = document.getElementById('newComment').value;
            const review = {id: 'review-' + nextReviewId++, itemId, itemName: selectedItem.name, userId: currentUser.id, userName: currentUser.displayName, rating: newRating, comment, createdAt: new Date().toISOString()};
            reviews.push(review);
            const item = items.find(i => i.id === itemId);
            const newReviewCount = item.reviewCount + 1;
            const newAverageRating = ((item.averageRating * item.reviewCount) + newRating) / newReviewCount;
            item.reviewCount = newReviewCount;
            item.averageRating = newAverageRating;
            markUserVoted(currentUser.id, itemId);
            newRating = 0;
            viewItem(itemId);
        }

        function renderVersusSelects() {
            const vs1 = document.getElementById('versus1');
            const vs2 = document.getElementById('versus2');
            let html = '<option value="">Select...</option>';
            items.forEach(item => html += '<option value="' + item.id + '">' + item.name + '</option>');
            vs1.innerHTML = html;
            vs2.innerHTML = html;
        }

        function updateVersus() {
            const id1 = document.getElementById('versus1').value;
            const id2 = document.getElementById('versus2').value;
            if(!id1 || !id2) { document.getElementById('versusComparison').innerHTML = ''; return; }
            const item1 = items.find(i => i.id === id1);
            const item2 = items.find(i => i.id === id2);
            const score1 = item1.averageRating * 20 + item1.reviewCount * 2 + item1.viewCount;
            const score2 = item2.averageRating * 20 + item2.reviewCount * 2 + item2.viewCount;
            const totalScore = score1 + score2;
            const percentage1 = totalScore > 0 ? (score1 / totalScore * 100).toFixed(1) : 50;
            const percentage2 = totalScore > 0 ? (score2 / totalScore * 100).toFixed(1) : 50;
            const winner = score1 > score2 ? item1 : (score2 > score1 ? item2 : null);
            let html = '<div class="glass rounded-3xl p-10 shadow-2xl mb-8">';
            html += '<h3 class="text-3xl font-black grad-text mb-8 text-center">' + t('overallScore') + '</h3>';
            html += '<div class="space-y-6">';
            html += '<div class="flex items-center gap-6"><span class="font-black text-xl w-40 truncate">' + item1.name + '</span>';
            html += '<div class="flex-1 h-7 bg-gray-200 rounded-full overflow-hidden"><div class="h-full grad-primary" style="width: ' + percentage1 + '%"></div></div>';
            html += '<span class="font-black text-2xl grad-text">' + percentage1 + '%</span></div>';
            html += '<div class="flex items-center gap-6"><span class="font-black text-xl w-40 truncate">' + item2.name + '</span>';
            html += '<div class="flex-1 h-7 bg-gray-200 rounded-full overflow-hidden"><div class="h-full" style="background: linear-gradient(135deg, #f093fb, #f5576c); width: ' + percentage2 + '%"></div></div>';
            html += '<span class="font-black text-2xl grad-text">' + percentage2 + '%</span></div>';
            html += '</div>';
            if(winner) html += '<div class="mt-10 text-center"><span class="inline-block grad-primary text-white px-10 py-4 rounded-full font-black text-2xl">🏆 ' + t('winner') + ': ' + winner.name + '</span></div>';
            html += '</div>';
            html += '<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">';
            [item1, item2].forEach(item => {
                html += '<div class="glass rounded-2xl overflow-hidden shadow-2xl">';
                html += '<div class="relative h-80"><img src="' + item.imageUrl + '" class="w-full h-full object-cover">';
                html += '<div class="absolute inset-0 bg-gradient-to-t from-black/95 via-black/60 to-transparent"></div>';
                html += '<div class="absolute bottom-6 left-6 right-6"><h3 class="text-white text-3xl font-black mb-3">' + item.name + '</h3>';
                html += '<div class="flex items-center gap-3">' + renderStars(Math.round(item.averageRating), 'normal', true) + '<span class="text-white font-black text-2xl">' + (item.averageRating > 0 ? item.averageRating.toFixed(1) : '0.0') + '</span></div></div></div>';
                html += '<div class="p-8 space-y-6"><p class="text-base leading-relaxed">' + item.description + '</p>';
                html += '<div class="grid grid-cols-2 gap-4">';
                html += '<div class="text-center p-5 glass rounded-xl"><p class="text-3xl font-black grad-text mb-1">' + (item.averageRating > 0 ? item.averageRating.toFixed(1) : '0.0') + '</p><p class="text-xs font-bold opacity-60">' + t('avgRating') + '</p></div>';
                html += '<div class="text-center p-5 glass rounded-xl"><p class="text-3xl font-black grad-text mb-1">' + item.reviewCount + '</p><p class="text-xs font-bold opacity-60">' + t('reviews') + '</p></div>';
                html += '</div></div></div>';
            });
            html += '</div>';
            document.getElementById('versusComparison').innerHTML = html;
        }

        function renderFavorites() {
            const favItems = items.filter(i => favorites.includes(i.id));
            const container = document.getElementById('favoritesList');
            if(favItems.length === 0) {
                container.innerHTML = '<div class="col-span-full text-center py-20 glass rounded-3xl"><p class="text-3xl font-bold opacity-60">' + t('noFavorites') + '</p></div>';
                return;
            }
            renderItemsGrid(favItems);
            container.innerHTML = document.getElementById('itemsGrid').innerHTML;
        }

        function renderProfile() {
            const userReviews = reviews.filter(r => r.userId === currentUser.id);
            const totalReviews = userReviews.length;
            const avgRating = totalReviews > 0 ? (userReviews.reduce((sum, r) => sum + r.rating, 0) / totalReviews).toFixed(1) : '0';
            let html = '<div class="glass rounded-3xl p-10 shadow-2xl">';
            html += '<div class="flex items-center gap-8 mb-10">';
            html += '<div class="w-32 h-32 grad-primary rounded-full flex items-center justify-center text-white text-6xl font-black">' + currentUser.displayName[0].toUpperCase() + '</div>';
            html += '<div><h2 class="text-5xl font-black grad-text mb-3">' + currentUser.displayName + '</h2><p class="text-xl opacity-75">' + currentUser.email + '</p></div></div>';
            html += '<div class="grid grid-cols-3 gap-6 mb-10">';
            html += '<div class="glass rounded-2xl p-8 text-center"><p class="text-5xl font-black grad-text mb-3">' + totalReviews + '</p><p class="font-bold text-lg">' + t('totalReviews') + '</p></div>';
            html += '<div class="glass rounded-2xl p-8 text-center"><p class="text-5xl font-black grad-text mb-3">' + avgRating + '</p><p class="font-bold text-lg">' + t('avgRating') + '</p></div>';
            html += '<div class="glass rounded-2xl p-8 text-center"><p class="text-5xl font-black grad-text mb-3">' + favorites.length + '</p><p class="font-bold text-lg">' + t('favorites') + '</p></div>';
            html += '</div>';
            html += '<div class="border-t-2 pt-8"><h3 class="text-3xl font-black grad-text mb-8">' + t('reviews') + '</h3>';
            if(userReviews.length > 0) {
                html += '<div class="space-y-5">';
                userReviews.forEach(review => {
                    html += '<div class="glass rounded-xl p-6"><div class="flex items-center justify-between mb-4"><span class="font-black text-xl">' + review.itemName + '</span><div class="flex items-center gap-3">' + renderStars(review.rating, 'small', true) + '<span class="font-black text-lg">' + review.rating + '.0</span></div></div>';
                    if(review.comment) html += '<p class="text-base mb-3">' + review.comment + '</p>';
                    html += '<p class="text-xs font-semibold opacity-60">' + new Date(review.createdAt).toLocaleString() + '</p></div>';
                });
                html += '</div>';
            } else {
                html += '<p class="text-center opacity-60 py-12 text-xl">' + t('noReviews') + '</p>';
            }
            html += '</div></div>';
            document.getElementById('profileContent').innerHTML = html;
        }

        function renderAdmin() {
            let html = '<div class="space-y-8">';
            html += '<div class="rounded-3xl p-10 text-white shadow-2xl" style="background: linear-gradient(135deg, #f093fb, #f5576c);"><h2 class="text-5xl font-black mb-3">Admin Panel</h2><p class="text-2xl opacity-90">Manage all content</p></div>';
            html += '<div class="glass rounded-3xl p-10 shadow-xl"><h3 class="text-3xl font-black grad-text mb-8">Add New Item</h3>';
            html += '<div class="grid grid-cols-2 gap-6">';
            html += '<input type="text" id="newItemName" placeholder="Name" class="px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none">';
            html += '<select id="newItemCategory" class="px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none"><option value="">Category</option>';
            categories.forEach(cat => html += '<option value="' + cat + '">' + cat + '</option>');
            html += '</select>';
            html += '<input type="text" id="newItemImage" placeholder="Image URL" class="px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none col-span-2">';
            html += '<textarea id="newItemDesc" placeholder="Description" rows="4" class="px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none col-span-2"></textarea>';
            html += '<input type="text" id="newItemTags" placeholder="Tags (comma separated)" class="px-5 py-4 rounded-xl border-2 focus:border-purple-500 outline-none col-span-2">';
            html += '</div>';
            html += '<button onclick="addItem()" class="btn grad-primary text-white px-10 py-4 rounded-xl font-bold text-lg mt-6">Add Item</button></div>';
            html += '<div class="glass rounded-3xl p-10 shadow-xl"><h3 class="text-3xl font-black grad-text mb-8">All Items (' + items.length + ')</h3>';
            html += '<div class="space-y-4 max-h-96 overflow-y-auto">';
            items.forEach(item => {
                html += '<div class="flex items-center gap-5 p-5 glass rounded-2xl"><img src="' + item.imageUrl + '" class="w-20 h-20 rounded-xl object-cover">';
                html += '<div class="flex-1"><p class="font-black text-lg">' + item.name + '</p><p class="text-sm font-semibold opacity-60">' + item.category + '</p></div>';
                html += '<button onclick="deleteItem(\'' + item.id + '\')" class="btn text-red-500 hover:bg-red-50 px-4 py-2 rounded-xl font-semibold">Delete</button></div>';
            });
            html += '</div></div></div>';
            document.getElementById('adminContent').innerHTML = html;
        }

        function addItem() {
            const name = document.getElementById('newItemName').value;
            const category = document.getElementById('newItemCategory').value;
            const imageUrl = document.getElementById('newItemImage').value;
            const description = document.getElementById('newItemDesc').value;
            const tags = document.getElementById('newItemTags').value.split(',').map(t => t.trim()).filter(t => t);
            if(!name || !category || !imageUrl || !description) { alert('Fill all fields!'); return; }
            items.push({id: 'item-' + nextItemId++, name, category, description, imageUrl, tags, averageRating: 0, reviewCount: 0, viewCount: 0, createdAt: new Date().toISOString()});
            document.getElementById('newItemName').value = '';
            document.getElementById('newItemImage').value = '';
            document.getElementById('newItemDesc').value = '';
            document.getElementById('newItemTags').value = '';
            alert('Item added!');
            renderAdmin();
            renderItems();
        }

        function deleteItem(itemId) {
            if(!confirm('Delete this item?')) return;
            const idx = items.findIndex(i => i.id === itemId);
            if(idx > -1) items.splice(idx, 1);
            renderAdmin();
            renderItems();
        }
    </script>
</body>
</html>
